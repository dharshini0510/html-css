<!DOCTYPE html>

<html>

<head>
  <title>Abort signal</title>
</head>

<body>

  <button id="start" type="button" >Start Fetch</button>
  <button id="cancel" type="button">Cancel Fetch</button>

  <div id="result"></div>

  <script>

    const sbtn = document.getElementById("start");
    const cbtn = document.getElementById("cancel");
    const res = document.getElementById("result")

    let controller;

     sbtn.addEventListener('click',()=>{
        controller = new AbortController();
        const signal = controller.signal;   

         signal.addEventListener("abort", () => {
         res.innerText = " Fetch Request has been Aborted";
      });
        res.innerText = "Fetching data...";
     });

     cbtn.addEventListener('click',()=>{
         if (controller) {
        controller.abort(); 
      }
     });

      
  </script>

</body>
</html>
